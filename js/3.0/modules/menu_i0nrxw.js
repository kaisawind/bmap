/**/_jsload2&&_jsload2('menu', 'z.object.extend(fc.prototype,{xa:function(a,b){if(this.P)return t;this.M=a;this.ql=b||s;this.Ea();var c=this,e=a.R.yc;b&&b.K.df&&(e="pointer");this.P.style.cursor=e;this.Bd&&(this.Bd.style.cursor=e);z.V(document,"mousedown",function(){c.P&&c.aa()});z.V(this.P,"click",function(a){c.aa();na(a)});e=this.m.Ya;e||(e=a.Ya);this.ql?this.ql.addEventListener("rightclick",function(a){c.P&&c.oI(a)}):a.addEventListener("rightclickex",function(a){c.P&&(!a.sb&&!a.Db)&&c.oI(a)});for(var e=0,f=this.Aa.length;e<f;e++)"menuitem"== this.Aa[e].Nb&&this.Aa[e].xa(a,this),"divider"==this.Aa[e].Nb&&(this.Ee[this.Aa[e].Bj].U=Bb(this.P,"<div class=\'BMap_cmDivider\'></div>"));this.ur()},jb:function(){this.M&&(this.xa(this.M,this.ql),this.Ch&&(this.Ch=t,this.show()))},remove:function(){this.P&&(this.P.parentNode.removeChild(this.P),this.P=s);this.Bd&&(this.Bd.parentNode.removeChild(this.Bd),this.Bd=s);for(var a=0,b=this.Aa.length;a<b;a++)"menuitem"==this.Aa[a].Nb&&(this.Aa[a].P=s);this.M=this.ql=s},Ea:function(){this.P=Bb(this.M.Ya,"<div unselectable=\'on\'></div>"); this.P.className="BMap_contextMenu";var a=this.P.style;a.font="12px "+H.fontFamily;9>z.fa.ma?this.Bd=Bb(this.M.Ya,"<div class=\'BMap_cmShadow\'></div>"):a.qU=a.FO=a.WebkitBoxShadow="1px 2px 6px #666";return this.P},Rv:function(a){if(a&&!("menuitem"!=a.Nb||""==a.Sg||0>=a.Pi)){for(var b=0,c=this.Aa.length;b<c;b++)if(this.Aa[b]===a)return;this.Aa.push(a);this.Gf.push(a);this.M&&(a.xa(this.M,this),z.U.eb(a.Zc(),"BMap_cmLstItem"),1<this.Aa.length?"menuitem"==this.Aa[this.Aa.length-2].Nb&&z.U.tc(this.Aa[this.Aa.length- 2].Zc(),"BMap_cmLstItem"):"menuitem"==this.Aa[0].Nb&&z.U.eb(this.Aa[0].Zc(),"BMap_cmFstItem"),this.ur())}},removeItem:function(a){if(a&&"menuitem"==a.Nb){for(var b=0,c=this.Aa.length;b<c;b++)this.Aa[b]===a&&(this.Aa[b].remove(),this.Aa.splice(b,1),c--);b=0;for(c=this.Gf.length;b<c;b++)this.Gf[b]===a&&(this.Gf[b].remove(),this.Gf.splice(b,1),c--);this.P&&(0<this.Aa.length&&"menuitem"==this.Aa[this.Aa.length-1].Nb&&z.U.eb(this.Aa[this.Aa.length-1].Zc(),"BMap_cmLstItem"),this.ur())}},kB:function(){this.Aa.push({Nb:"divider", Bj:this.Ee.length});this.Ee.push({U:s});this.P&&(this.Ee[this.Ee.length-1].U=Bb(this.P,"<div class=\'BMap_cmDivider\'></div>"),this.ur())},pE:function(a){if(this.Ee[a]){this.Ee[a].U&&this.Ee[a].U.parentNode&&this.Ee[a].U.parentNode.removeChild(this.Ee[a].U);for(var b=0,c=this.Aa.length;b<c;b++)this.Aa[b]&&("divider"==this.Aa[b].Nb&&this.Aa[b].Bj==a)&&(this.Aa.splice(b,1),c--),this.Aa[b]&&("divider"==this.Aa[b].Nb&&this.Aa[b].Bj>a)&&this.Aa[b].Bj--;this.Ee.splice(a,1);this.ur()}},ua:function(a,b){this.P.style.left= a+"px";this.P.style.top=b+"px";this.Bd&&(this.Bd.style.left=a+1+"px",this.Bd.style.top=b+2+"px")},show:function(){if(this.Ch!=p&&0!=this.Gf.length){this.Ch=p;this.P&&(this.P.style.visibility="visible");this.Bd&&(this.Bd.style.visibility="visible");var a=new Q("onopen");a.point=this.rw;a.pixel=this.Ir;this.dispatchEvent(a)}},aa:function(){if(this.Ch!=t){this.Ch=t;this.P&&(this.P.style.visibility="hidden");this.Bd&&(this.Bd.style.visibility="hidden");var a=new Q("onclose");a.point=this.rw;a.pixel=this.Ir; this.dispatchEvent(a)}},CZ:function(a){if(a&&(this.m.cursor=a,this.P&&(this.P.style.cursor=this.m.cursor),this.Bd))this.Bd.style.cursor=this.m.cursor},ur:function(){this.P&&this.Bd&&(this.Bd.style.width=this.P.offsetWidth+"px",this.Bd.style.height=this.P.offsetHeight+"px")},oI:function(a){if(0!=this.Gf.length){this.Ir=a.mb;this.rw=this.M.Ib(this.Ir);var b=this.Zc().offsetHeight,c=this.Zc().offsetWidth,e=a.mb.x,f=a.mb.y;a.mb.x+c>this.M.width&&(e=a.mb.x-c);a.mb.y+b>this.M.height&&(f=a.mb.y-b);this.ua(e, f);this.show()}}});U(Vf,{addItem:Vf.Rv,removeItem:Vf.removeItem,addSeparator:Vf.kB,removeSeparator:Vf.pE});z.object.extend(ic.prototype,{xa:function(a,b){if(this.P)return t;this.M=a;this.xh=b;b.Zc()&&(this.Ea(),this.ga(),this.Ah||(this.Ah=p,this.disable()));return p},remove:function(){this.P&&(this.P.parentNode.removeChild(this.P),this.P=s);this.M=this.xh=s},jb:function(){this.xh&&this.M&&this.xa(this.M,this.xh)},Ea:function(){var a=this.m.km?"<div"+(this.m.id?" id=\'"+this.m.id+"\'":"")+" unselectable=\'on\'><div style=\'width: 17px;height: 17px;margin-right: 3px;display: inline-block;zoom: 1;*display: inline;vertical-align: middle;background: url("+ this.m.km+") no-repeat;\'></div><span style=\'vertical-align: middle;\'>"+this.Sg+"</span></div>":"<div"+(this.m.id?" id=\'"+this.m.id+"\'":"")+" unselectable=\'on\'><span>"+this.Sg+"</span></div>";this.P=Bb(this.xh.Zc(),a);this.m.km?(this.Pu=this.P.firstChild,this.pr=this.P.lastChild):this.pr=this.P;a=this.P.style;a.padding="2px 6px";a.margin="0 2px";a.fontSize="14px";a.MozUserSelect="none";a.lineHeight="17px";a.width=this.m.width+"px";this.Ah?(a.color="#000",a.cursor="pointer"):(a.color="#aaa",a.cursor= this.M.R.yc);return this.P},ga:function(){var a=this;z.V(this.P,"click",function(b){a.Ah?a.Ny&&a.Ny.call&&a.Ny.call(a,a.xh.rw,a.xh.Ir,a.xh.ql):na(b)});z.V(this.P,"mousedown",function(a){na(a)});z.V(this.P,"mouseover",function(){a.Ah&&(a.P.style.color="#6688cc")});z.V(this.P,"mouseout",function(){a.Ah&&(a.P.style.color="#000")})},yt:function(a){a&&(this.Sg=a+"",this.pr&&(this.pr.innerHTML="<span>"+this.Sg+"</span>"))},Ub:function(a){a&&(this.m.km=a,this.Pu?this.Pu.style.background="url("+a+")":(this.P.innerHTML= "<div"+(this.m.id?" id=\'"+this.m.id+"\'":"")+" unselectable=\'on\'><div style=\'width: 17px;height: 17px;margin-right: 3px;display: inline-block;zoom: 1;*display: inline;vertical-align: middle;background: url("+this.m.km+") no-repeat;\'></div><span style=\'vertical-align: middle;\'>"+this.Sg+"</span></div>",this.Pu=this.P.firstChild,this.pr=this.P.lastChild))},enable:function(){this.Ah=p;this.P&&(this.P.style.color="#000",this.P.style.cursor="pointer")},disable:function(){this.Ah=t;this.P&&(this.P.style.color= "#aaa",this.P.style.cursor=this.M.R.yc)}});U(Wf,{setIcon:Wf.Ub,setText:Wf.yt,enable:Wf.enable,disable:Wf.disable}); ');
